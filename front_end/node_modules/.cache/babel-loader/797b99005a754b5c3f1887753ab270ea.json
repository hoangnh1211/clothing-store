{"ast":null,"code":"var _jsxFileName = \"D:\\\\anhshop1\\\\front_end\\\\src\\\\Login.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './Login.css'; // import axios from \"\"\n\nimport { Redirect } from 'react-router-dom';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleRequert = e => {\n      // e.preventDefault();\n      var username = this.state.username;\n      var password = this.state.password;\n      console.log(username);\n      console.log(password);\n\n      if (this.props.data !== \"admin\") {\n        axios.post('/login1', {\n          username: username,\n          password: password\n        }).then(res => {\n          if (res.data === \"thanh cong\") {\n            localStorage.setItem('user', JSON.stringify({\n              username: this.state.username,\n              password: this.state.username\n            }));\n          } //  console.log(res.data);\n\n\n          console.log(res.data);\n        });\n      } else {\n        axios.post('/loginadmin', {\n          username: username,\n          password: password\n        }).then(res => {\n          if (res.data === \"thanh cong\") {\n            localStorage.setItem('user', JSON.stringify({\n              username: this.state.username,\n              password: this.state.username\n            }));\n          } //  console.log(res.data);\n\n\n          console.log(res.data);\n        });\n      } // .catch(err => console.log(err))\n\n    };\n\n    this.onChange = e => {\n      // console.log(e.target)\n      var name = e.target.name;\n      var value = e.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.state = {\n      // kq:\"that bai\",\n      username: \"\",\n      password: \"\",\n      name: \"chua dang nhap\",\n      nameadmin: \"chua dang nhap\"\n    };\n  }\n\n  componentDidMount() {\n    ax;\n    axios.get('/test').then(res => {\n      this.setState({\n        name: res.data\n      });\n    });\n    axios.get('/testadmin').then(res => {\n      this.setState({\n        nameadmin: res.data\n      });\n    });\n  }\n\n  render() {\n    // var login=localStorage.getItem('user');\n    // console.log(this.state.name)\n    if (this.props.data === \"admin\") {\n      if (this.state.nameadmin !== 'chua dang nhap') {\n        return React.createElement(Redirect, {\n          to: \"/admin\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        });\n      }\n    } else {\n      if (this.state.name !== 'chua dang nhap') {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        });\n      }\n    }\n\n    return React.createElement(\"div\", {\n      className: \"login1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"size32\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, this.props.data)), React.createElement(\"div\", {\n      className: \"li\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Login and password are required.\")), React.createElement(\"form\", {\n      onSubmit: this.handleRequert,\n      className: \"lo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      placeholder: \"Username\",\n      type: \"text\",\n      name: \"username\",\n      ref: \"username\",\n      className: \"borderinput\",\n      value: this.state.username,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      placeholder: \"Password\",\n      type: \"password\",\n      name: \"password\",\n      ref: \"password\",\n      className: \"borderinput\",\n      value: this.state.password,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"hvr-sweep-to-left1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"\\u0110\\u0102NG NH\\u1EACP\"))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["D:\\anhshop1\\front_end\\src\\Login.js"],"names":["React","Component","Redirect","Login","constructor","props","handleRequert","e","username","state","password","console","log","data","axios","post","then","res","localStorage","setItem","JSON","stringify","onChange","name","target","value","setState","nameadmin","componentDidMount","ax","get","render"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './Login.css'\r\n// import axios from \"\"\r\nimport {Redirect} from 'react-router-dom'\r\nclass Login extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      // kq:\"that bai\",\r\n      username:\"\",\r\n      password:\"\",name:\"chua dang nhap\",\r\n      nameadmin:\"chua dang nhap\"\r\n    }\r\n }\r\n componentDidMount() {\r\n  ax\r\n  axios.get('/test')\r\n  .then(res=>{\r\n    this.setState({\r\n      name:res.data\r\n  });\r\n  })\r\n  axios.get('/testadmin')\r\n  .then(res=>{\r\n    this.setState({\r\n      nameadmin:res.data\r\n  });\r\n  })\r\n}\r\n  handleRequert=(e)=>{\r\n    // e.preventDefault();\r\n    var username=this.state.username;\r\n    var password=this.state.password;\r\n    console.log(username);\r\n    console.log(password);\r\n    if (this.props.data !== \"admin\"){\r\n      axios.post('/login1',{username:username,password:password})\r\n      .then(res=>{\r\n        if (res.data===\"thanh cong\") {\r\n          localStorage.setItem('user',JSON.stringify({\r\n              username:this.state.username,\r\n              password:this.state.username\r\n          }));\r\n        }\r\n      //  console.log(res.data);\r\n      console.log(res.data);\r\n      })} else {\r\n        axios.post('/loginadmin',{username:username,password:password})\r\n        .then(res=>{\r\n          if (res.data===\"thanh cong\") {\r\n            localStorage.setItem('user',JSON.stringify({\r\n                username:this.state.username,\r\n                password:this.state.username\r\n            }));\r\n          }\r\n        //  console.log(res.data);\r\n        console.log(res.data);\r\n        })\r\n      }\r\n    // .catch(err => console.log(err))\r\n  }\r\n  onChange =(e)=>{\r\n    // console.log(e.target)\r\n    var name=e.target.name;\r\n    var value=e.target.value;\r\n    this.setState({\r\n      [name]:value\r\n    })\r\n  }\r\n  render(){\r\n    // var login=localStorage.getItem('user');\r\n    // console.log(this.state.name)\r\n    if (this.props.data === \"admin\"){\r\n    if (this.state.nameadmin !== 'chua dang nhap') {\r\n      return <Redirect to=\"/admin\"/>\r\n    }} else {\r\n      if (this.state.name !== 'chua dang nhap') {\r\n        return <Redirect to=\"/\"/>\r\n      }\r\n    }\r\n  return (\r\n    <div className=\"login1\">\r\n      <div class=\"page-title\">\r\n        <h1 className=\"size32\">{this.props.data}</h1>\r\n        {/* <div class=\"field note\">If you have an account, sign in with your email address.</div> */}\r\n      </div>\r\n      <div className=\"li\">\r\n          <span>Login and password are required.</span>\r\n      </div>\r\n      <form onSubmit={this.handleRequert }  className=\"lo\"> \r\n        <div ><input placeholder=\"Username\"  type=\"text\" name=\"username\" ref=\"username\" className=\"borderinput\" value={this.state.username} onChange={this.onChange} ></input></div>\r\n        <div><input placeholder=\"Password\"  type=\"password\" name=\"password\" ref=\"password\" className=\"borderinput\"  value={this.state.password} onChange={this.onChange}></input></div>\r\n        <button type=\"submit\"  className=\"hvr-sweep-to-left1\"><b>ĐĂNG NHẬP</b></button>\r\n      </form>\r\n    </div>\r\n  );\r\n}}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}