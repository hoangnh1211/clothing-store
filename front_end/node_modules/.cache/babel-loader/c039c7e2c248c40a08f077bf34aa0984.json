{"ast":null,"code":"import _classCallCheck from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./Products.css';import axios from\"axios\";import ReactImageZoom from'react-image-zoom';import{Link}from'react-router-dom';import'../../loading.css';var Products=/*#__PURE__*/function(_Component){_inherits(Products,_Component);function Products(props){var _this;_classCallCheck(this,Products);_this=_possibleConstructorReturn(this,_getPrototypeOf(Products).call(this,props));_this.up=function(){var d=_this.state.soluong;if(d<_this.state.sl)d=d+1;_this.setState({soluong:d});};_this.down=function(){var d=_this.state.soluong;if(d>1)d=d-1;_this.setState({soluong:d});};_this.clicksize=function(dem){var newArray=[\"col a1\",'col a1','col a1'];var newArray1=[\"S\",\"M\",\"L\",\"\"];var abc=newArray1[dem];var sl=0;var data=_this.state.data;if(dem===0)sl=data.sizeS;else if(dem===1)sl=data.sizeM;else sl=data.sizeL;newArray[dem]=\"col a\";var soluong=_this.state.soluong;if(soluong>sl)soluong=sl;_this.setState({class1:newArray,size:abc,sl:sl,soluong:soluong});};_this.add=function(){var data=_this.state.data;var id=data.id;var soluong=_this.state.soluong;var size=_this.state.size;var name=data.Name;var gia=data.NewPrice;var link=data.Link;console.log(data);console.log(id,name,gia);axios.post('/add',{id:id,soluong:soluong,size:size,name:name,gia:gia,link:link}).then(function(res){console.log(res.data);}).catch(function(err){return console.log(err);});};_this.changlinkimg=function(link){_this.setState({linkimg:link});// console.log(link)\n};_this.onChange=function(e){var value=e.target.value;if(value>_this.state.sl)value=_this.state.sl;if(value<=0)value=1;_this.setState({soluong:value});console.log(e.target);};_this.state={data:{},new:\"\",soluong:1,id:1,class1:[\"col a\",'col a1','col a1'],size:\"S\",link:'login1',a1:\"none\",a2:\"block\",linkimg:'_1',sl:0,loading:0};return _this;}_createClass(Products,[{key:\"scrollToTop\",value:function scrollToTop(){window.scrollTo({top:0,behavior:\"smooth\"});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.scrollToTop();var match=this.props.match;axios.post(\"/getproduct\",{link:match.params.name}).then(function(res){console.log(res.data[0]);if(res.data[0]!==undefined){_this2.setState({data:res.data[0],sl:res.data[0].sizeS,loading:1});}// console.log(this.state.data)\n});// axios.get('/products')\n// .then(res=>{\n// //   console.log(res.data);\n//   var {match}=this.props;\n// //   console.log(match.params.name);\n//   res.data.map((menu, index) =>{\n//     if (menu.Link==match.params.name) {\n//         this.setState({\n//             data:menu,sl:menu.sizeS    \n//         });\n//         // console.log(menu);\n//         return;\n//     }\n// })\n// })\naxios.get('/test').then(function(res){_this2.setState({name:res.data});if(res.data!==\"chua dang nhap\"){_this2.setState({a1:\"block\",a2:'none'});}else{_this2.setState({a2:\"block\",a1:'none'});}});}},{key:\"render\",value:function render(){var _this3=this;// var styleimg = {width:362,zoomWidth:362,zoomPosition:'original',img: 'http://localhost:4000/anh/thun1_1'};\nvar match=this.props.match;// console.log(match.params.name);\nconsole.log(this.state.data);var data=this.state.data;// var link1=\"http://localhost:3000/product/\"+match.params.name;\nvar link='http://localhost:4000/anh/'+match.params.name;// console.log(link+'_to2');\n// var styleimg = {width:362,zoomWidth:362,zoomPosition:'original',img: link+'_1'};\nvar style={width:80,margin:10};if(this.state.loading===0){return React.createElement(\"div\",{className:\"lds\"},React.createElement(\"div\",{class:\"lds-hourglass\"}));}else{return React.createElement(\"div\",{className:\"product\"},React.createElement(\"pre\",{className:\"color-darkgray\"},\"HOME  \",React.createElement(\"i\",{className:\"fas fa-arrow-right color-black\"}),\" \",React.createElement(\"b\",{className:\"color-black\"},\" \",data.Name,\" \")),React.createElement(\"div\",{className:\"boder-product\"},React.createElement(\"div\",{className:\" row \"},React.createElement(\"div\",{className:\" col-6 \"},React.createElement(\"div\",{className:\"abc24 img1\"},React.createElement(ReactImageZoom,{width:362,zoomWidth:362,zoomPosition:\"original\",img:link+this.state.linkimg})),React.createElement(\"div\",{className:\"abc2\"},React.createElement(\"img\",{alt:\"anh\",onMouseMove:function onMouseMove(){return _this3.changlinkimg('_1');},style:style,src:link+'_1'}),React.createElement(\"img\",{alt:\"anh\",onMouseMove:function onMouseMove(){return _this3.changlinkimg('_2');},style:style,src:link+'_2'}),React.createElement(\"img\",{alt:\"anh\",onMouseMove:function onMouseMove(){return _this3.changlinkimg('_3');},style:style,src:link+'_3'}),React.createElement(\"img\",{alt:\"anh\",onMouseMove:function onMouseMove(){return _this3.changlinkimg('_4');},style:style,src:link+'_4'}),React.createElement(\"img\",{alt:\"anh\",onMouseMove:function onMouseMove(){return _this3.changlinkimg('_5');},style:style,src:link+'_5'}))),React.createElement(\"div\",{className:\"col\"}),React.createElement(\"div\",{className:\"col-5\"},React.createElement(\"p\",{className:\"name-product\"},data.Name),React.createElement(\"p\",{className:\"gia\"},React.createElement(\"span\",{className:\"giacu\"},\" \",data.NewPrice*1.5+'đ'),React.createElement(\"span\",{className:\"giamoi\"},\" \",data.NewPrice+\"đ\")),React.createElement(\"div\",{className:\"sizeM\"},React.createElement(\"p\",null,\"SIZE \",React.createElement(\"b\",{className:\"color-red\"},this.state.size,\" *\")),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col row\"},React.createElement(\"div\",{className:this.state.class1[0],onClick:function onClick(){return _this3.clicksize(0);}},React.createElement(\"button\",{className:\"size tooltip1\"},\"S\",React.createElement(\"span\",{className:\"tooltiptext1\"},\"S\"))),React.createElement(\"div\",{className:this.state.class1[1],onClick:function onClick(){return _this3.clicksize(1);}},React.createElement(\"button\",{className:\"size tooltip1\"},\"M\",React.createElement(\"span\",{className:\"tooltiptext1\"},\"M\"))),React.createElement(\"div\",{className:this.state.class1[2],onClick:function onClick(){return _this3.clicksize(2);}},React.createElement(\"button\",{className:\"size tooltip1\"},\"L\",React.createElement(\"span\",{className:\"tooltiptext1\"},\"L\")))),React.createElement(\"div\",{className:\"col\"}),React.createElement(\"div\",{className:\"col\"}))),React.createElement(\"p\",{className:\"color-red\"},\"* Th\\xF4ng tin b\\u0103\\u0301t bu\\xF4\\u0323c\"),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-6 row aa111\"},React.createElement(\"button\",{className:\"col-3 a12 tooltip1\",onClick:this.down},React.createElement(\"b\",null,\"-\"),React.createElement(\"span\",{className:\"tooltiptext1\"},\"decrease\")),React.createElement(\"div\",{className:\"col-5 a12\"},React.createElement(\"input\",{type:\"number\",className:\"inputsl\",onChange:this.onChange,value:this.state.soluong,pattern:\"[0-9]\"})),React.createElement(\"button\",{className:\"col-3 a12 tooltip1\",onClick:this.up},React.createElement(\"b\",null,\"+\"),React.createElement(\"span\",{className:\"tooltiptext1\"},\"increase\"))),React.createElement(\"div\",{className:\"col-6\"},this.state.sl,\" s\\u1EA3n ph\\u1EA9m c\\xF3 s\\u1EB5n\")),React.createElement(\"a\",{href:match.params.name,className:this.state.a1},React.createElement(\"button\",{className:\"add hvr-sweep-to-left1\",onClick:this.add},\"TH\\xCAM V\\xC0O GI\\u1ECE H\\xC0NG\")),React.createElement(Link,{to:\"/login1\",className:this.state.a2},React.createElement(\"button\",{className:\"add hvr-sweep-to-left1\"},\"TH\\xCAM V\\xC0O GI\\u1ECE H\\xC0NG\")),React.createElement(\"p\",null,\"M\\xD4 T\\u1EA2 S\\u1EA2N PH\\u1EA8M\"),React.createElement(\"p\",null,data.Description)))),React.createElement(\"div\",{className:\"product-buttom\"},React.createElement(\"div\",{className:\"aaa\"},React.createElement(\"div\",{className:\"aaa1\"},React.createElement(\"p\",null,\"TH\\xD4NG TIN S\\u1EA2N PH\\u1EA8M\"))),React.createElement(\"div\",{className:\"aaa2\"},React.createElement(\"p\",null,data.Description))),React.createElement(\"div\",{className:\"product-buttom\"},React.createElement(\"div\",{className:\"aaa\"},React.createElement(\"div\",{className:\"aaa1\"},React.createElement(\"p\",null,\"\\u0110\\xC1NH GI\\xC1 S\\u1EA2N PH\\u1EA8M\"))),React.createElement(\"div\",{className:\"user\"},React.createElement(\"i\",{class:\"far fa-user\"}))));}}}]);return Products;}(Component);export default Products;","map":{"version":3,"sources":["D:\\anhshop\\abcd\\src\\Out\\Products\\Products.js"],"names":["React","Component","axios","ReactImageZoom","Link","Products","props","up","d","state","soluong","sl","setState","down","clicksize","dem","newArray","newArray1","abc","data","sizeS","sizeM","sizeL","class1","size","add","id","name","Name","gia","NewPrice","link","console","log","post","then","res","catch","err","changlinkimg","linkimg","onChange","e","value","target","new","a1","a2","loading","window","scrollTo","top","behavior","scrollToTop","match","params","undefined","get","style","width","margin","Description"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport './Products.css';\r\nimport axios from \"axios\";\r\nimport ReactImageZoom from 'react-image-zoom';\r\nimport { Link } from 'react-router-dom';\r\nimport '../../loading.css'\r\nclass Products extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n     \r\n        this.state = {\r\n            data:{},\r\n            new: \"\",\r\n            soluong:1,\r\n            id:1,\r\n            class1:[\"col a\",'col a1','col a1'],\r\n            size:\"S\",\r\n            link:'login1',\r\n            a1:\"none\",\r\n            a2:\"block\",\r\n            linkimg:'_1',\r\n            sl:0,loading:0\r\n        };\r\n      }\r\n      scrollToTop() {\r\n        window.scrollTo({\r\n          top: 0,\r\n          behavior: \"smooth\"\r\n        });\r\n      }\r\n      componentDidMount() {\r\n        this.scrollToTop();\r\n        var {match}=this.props;\r\n        axios.post(\"/getproduct\",{link:match.params.name}).then(\r\n            res=>{\r\n                console.log(res.data[0])\r\n                if (res.data[0]!==undefined){\r\n                    this.setState({\r\n                        data:res.data[0],sl:res.data[0].sizeS  ,loading:1  \r\n                    });\r\n                }\r\n                \r\n                // console.log(this.state.data)\r\n            }\r\n        )   \r\n        // axios.get('/products')\r\n        // .then(res=>{\r\n        // //   console.log(res.data);\r\n        //   var {match}=this.props;\r\n        // //   console.log(match.params.name);\r\n        //   res.data.map((menu, index) =>{\r\n        //     if (menu.Link==match.params.name) {\r\n        //         this.setState({\r\n        //             data:menu,sl:menu.sizeS    \r\n        //         });\r\n        //         // console.log(menu);\r\n        //         return;\r\n        //     }\r\n        // })\r\n        // })\r\n        axios.get('/test')\r\n            .then(res=>{\r\n                this.setState({\r\n                name:res.data\r\n            });\r\n                if (res.data!==\"chua dang nhap\"){\r\n                this.setState({\r\n                a1:\"block\",a2:'none'\r\n            });} else {\r\n                this.setState({\r\n                    a2:\"block\",a1:'none'\r\n            });\r\n            }\r\n            })\r\n    }\r\n    up = () => {\r\n            var d=this.state.soluong ;\r\n            if (d<this.state.sl) d=d+1;\r\n            this.setState({\r\n                soluong:d\r\n            });\r\n    }\r\n    down = () => {\r\n            var d=this.state.soluong;\r\n            if (d>1) d=d-1;\r\n            this.setState({\r\n                soluong:d\r\n            });\r\n    }\r\n    clicksize = (dem) => {\r\n        var newArray=[\"col a1\",'col a1','col a1'];\r\n        var newArray1=[\"S\",\"M\",\"L\",\"\"];\r\n        var abc=newArray1[dem];\r\n        var sl=0;\r\n        var data=this.state.data;\r\n        if (dem===0) sl=data.sizeS; else if (dem===1) sl=data.sizeM; else sl=data.sizeL \r\n        newArray[dem]=\"col a\";\r\n        var soluong=this.state.soluong;\r\n        if (soluong>sl) soluong=sl;\r\n        this.setState({\r\n            class1:newArray,\r\n            size:abc,sl:sl,\r\n            soluong:soluong\r\n        });\r\n    }\r\n    add=()=>{\r\n        var data=this.state.data;\r\n        var id=data.id;\r\n        var soluong=this.state.soluong;\r\n        var size=this.state.size;\r\n        var name=data.Name;\r\n        var gia=data.NewPrice;\r\n        var link=data.Link;\r\n        console.log(data);\r\n        console.log(id,name,gia);\r\n        axios.post('/add',{id:id,soluong:soluong,size:size,name:name,gia:gia,link:link})\r\n        .then(res=>{\r\n            console.log(res.data);\r\n        })\r\n        .catch(err => console.log(err))\r\n       }\r\n    changlinkimg=(link)=>{\r\n        this.setState({\r\n            linkimg:link\r\n        })\r\n        // console.log(link)\r\n    }\r\n    onChange=(e)=>{\r\n        var value=e.target.value;\r\n        if (value>this.state.sl) value=this.state.sl;\r\n        if (value<=0) value=1;\r\n        this.setState({\r\n            soluong:value\r\n        })\r\n        console.log(e.target)\r\n    }\r\n    \r\n    render(){\r\n        // var styleimg = {width:362,zoomWidth:362,zoomPosition:'original',img: 'http://localhost:4000/anh/thun1_1'};\r\n        var {match}=this.props;\r\n        // console.log(match.params.name);\r\n        console.log(this.state.data);\r\n        var data=this.state.data;\r\n        // var link1=\"http://localhost:3000/product/\"+match.params.name;\r\n        var link='http://localhost:4000/anh/'+match.params.name;\r\n        // console.log(link+'_to2');\r\n        // var styleimg = {width:362,zoomWidth:362,zoomPosition:'original',img: link+'_1'};\r\n        var style={width:80,margin:10}\r\n        if (this.state.loading===0){\r\n            return(\r\n                <div className=\"lds\">\r\n                    <div class=\"lds-hourglass\"></div>\r\n                </div>\r\n             )\r\n        } else{\r\n        return(\r\n            <div className=\"product\">\r\n                <pre className=\"color-darkgray\">HOME  <i className=\"fas fa-arrow-right color-black\"></i> <b className=\"color-black\"> {data.Name} </b></pre>\r\n                <div className=\"boder-product\">\r\n                    <div className=\" row \">\r\n                        <div className=\" col-6 \">\r\n                            {/* <a href={link+'_1'} className=\"MagicZoom abc24\" id=\"trainer\"  data-options=\"zoomPosition: inner\"><img src={link+'_to1'}></img></a> */}\r\n                            <div className=\"abc24 img1\">\r\n                            <ReactImageZoom width={362} zoomWidth={362} zoomPosition='original' img= {link+this.state.linkimg} />\r\n                            </div>\r\n                            \r\n                            <div className=\"abc2\" >\r\n                                <img alt=\"anh\" onMouseMove={()=>this.changlinkimg('_1')} style={style} src={link+'_1'}></img>\r\n                                <img alt=\"anh\" onMouseMove={()=>this.changlinkimg('_2')} style={style} src={link+'_2'}></img>\r\n                                <img alt=\"anh\" onMouseMove={()=>this.changlinkimg('_3')} style={style} src={link+'_3'}></img>\r\n                                <img alt=\"anh\" onMouseMove={()=>this.changlinkimg('_4')} style={style} src={link+'_4'}></img>\r\n                                <img alt=\"anh\" onMouseMove={()=>this.changlinkimg('_5')} style={style} src={link+'_5'}></img>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col\"></div>\r\n                        <div className=\"col-5\">\r\n                            <p className=\"name-product\">{data.Name}</p>\r\n                            <p className=\"gia\">\r\n                                <span className=\"giacu\"> {data.NewPrice*1.5+'đ'}</span>\r\n                                <span className=\"giamoi\"> {data.NewPrice +\"đ\"}</span>\r\n                            </p>\r\n                            <div className=\"sizeM\">\r\n                                <p>SIZE <b className=\"color-red\">{this.state.size} *</b></p>\r\n                                <div className=\"row\" >\r\n                                    <div className='col row'>\r\n                                        <div className={this.state.class1[0]} onClick={() =>  this.clicksize(0)} >\r\n                                            <button className=\"size tooltip1\">S<span className=\"tooltiptext1\">S</span></button>\r\n                                        </div>\r\n                                        <div className={this.state.class1[1]} onClick={() =>  this.clicksize(1)}>\r\n                                            <button className=\"size tooltip1\">M<span className=\"tooltiptext1\">M</span></button>\r\n                                        </div>\r\n                                        <div className={this.state.class1[2]} onClick={() =>  this.clicksize(2)}>\r\n                                            <button className=\"size tooltip1\">L<span className=\"tooltiptext1\">L</span></button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className='col'></div>\r\n                                    <div className='col'></div>\r\n                                </div>\r\n                            </div>\r\n                            <p className=\"color-red\">* Thông tin bắt buộc</p>\r\n                            <div className=\"row\">\r\n                                <div className=\"col-6 row aa111\">\r\n                                    <button className=\"col-3 a12 tooltip1\" onClick={this.down}>\r\n                                        <b>-</b>\r\n                                        <span className=\"tooltiptext1\">decrease</span>   \r\n                                    </button>\r\n                                    <div className=\"col-5 a12\">\r\n                                        <input type=\"number\" className=\"inputsl\" onChange={this.onChange} value={this.state.soluong}  pattern=\"[0-9]\"></input>\r\n                                        {/* <input type=\"text\" onkeypress='return event.charCode >= 48'></input> */}\r\n                                    </div>\r\n\r\n                                    <button className=\"col-3 a12 tooltip1\" onClick={this.up}>\r\n                                        <b>+</b>\r\n                                        <span className=\"tooltiptext1\">increase</span>\r\n                                    </button>\r\n                                </div>\r\n                                <div className=\"col-6\">{this.state.sl} sản phẩm có sẵn</div> \r\n                            </div>\r\n                            <a href={match.params.name} className={this.state.a1}><button className=\"add hvr-sweep-to-left1\" onClick={this.add}>THÊM VÀO GIỎ HÀNG</button></a>\r\n                            <Link to='/login1' className={this.state.a2}><button className=\"add hvr-sweep-to-left1\">THÊM VÀO GIỎ HÀNG</button></Link>\r\n                            <p>MÔ TẢ SẢN PHẨM</p>\r\n                            <p>{data.Description}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"product-buttom\">\r\n                    <div className=\"aaa\">\r\n                        <div className=\"aaa1\">\r\n                            <p>THÔNG TIN SẢN PHẨM</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"aaa2\"><p>{data.Description}</p></div>\r\n                </div>\r\n                <div className=\"product-buttom\">\r\n                    <div className=\"aaa\">\r\n                        <div className=\"aaa1\">\r\n                            <p>ĐÁNH GIÁ SẢN PHẨM</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"user\">\r\n                    <i class=\"far fa-user\"></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )}\r\n}}\r\nexport default Products"]},"metadata":{},"sourceType":"module"}