{"ast":null,"code":"import _classCallCheck from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./Cart.css';import axios from\"axios\";import{Redirect,Link}from'react-router-dom';var Cart=/*#__PURE__*/function(_Component){_inherits(Cart,_Component);function Cart(props){var _this;_classCallCheck(this,Cart);_this=_possibleConstructorReturn(this,_getPrototypeOf(Cart).call(this,props));_this.de=function(a,b){console.log();axios.post('/delete',{id:a,size:b}).then(function(res){console.log(res.data);//  this.setState({search:res.data})\n}).catch(function(err){return console.log(err);});};_this.update=function(){// var {data}=this.props.order;\nconsole.log(_this.state.order);axios.post('/update',{data:_this.state.order}).then(function(res){console.log(res.data);//  this.setState({search:res.data})\n}).catch(function(err){return console.log(err);});};_this.tt=function(){var data=_this.state.order,data1=_this.state.order1;//   console.log(\"data\",this.state.order,'data1:',this.state.order1);\nfor(var i=0;i<=data.length-1;i++){data1[i].soluong=data1[i].soluong-data[i].soluong;}console.log('data:',data1);axios.post('/update',{data:data1}).then(function(res){console.log(res.data);//  this.setState({search:res.data})\n}).catch(function(err){return console.log(err);});axios.post('/thanhtoan',{data:data}).then(function(res){console.log(res.data);//  this.setState({search:res.data})\n}).catch(function(err){return console.log(err);});};_this.cl=function(){// var {data}=this.props.order;\nconsole.log(_this.state.order);axios.post('/clear',{data:_this.state.order}).then(function(res){console.log(res.data);//  this.setState({search:res.data})\n}).catch(function(err){return console.log(err);});};_this.Show=function(menus,name){var result=null;var tong=0;if(menus.length>0){result=menus.map(function(menu,index){if(menu.username===name){tong=tong+menu.NewPrice*menu.soluong;// console.log(index);\nvar link='/product/'+menu.Link;return React.createElement(\"div\",{className:\"row tb1top\"},React.createElement(\"div\",{className:\"col-7 row clear\"},React.createElement(\"div\",{className:\"col-2\"},React.createElement(Link,{to:link},React.createElement(\"img\",{width:\"80px\",alt:\"anh\",src:\"http://localhost:4000/anh/\"+menu.Link+'_1'}))),React.createElement(\"div\",{className:\"col-9\"},React.createElement(Link,{to:link},React.createElement(\"h5\",null,menu.Name)),React.createElement(\"h6\",null,\"Size:  \",menu.size))),React.createElement(\"div\",{className:\"col-5 row t1t1\"},React.createElement(\"div\",{className:\"col-4\"},React.createElement(\"p\",null,menu.NewPrice)),React.createElement(\"div\",{className:\"col-3\"},React.createElement(\"input\",{type:\"number\",value:menu.soluong,min:\"0\",onChange:function onChange(e){var a=_this.state.order;// var b=this.state.order1;\n// console.log(b[index].soluong,b[index].soluong-Number(e.target.value),Number(e.target.value))\n// console.log(a,b)\n// b[index].soluong=b[index].soluong-Number(e.target.value);\na[index].soluong=Number(e.target.value);// console.log(a,b)\n_this.setState({order:a});// console.log(this.state.order,this.state.order1)\n// console.log(b[index].soluong,b[index].soluong-Number(e.target.value),Number(e.target.value))\n}})),React.createElement(\"div\",{className:\"col-4\"},React.createElement(\"p\",null,menu.NewPrice*menu.soluong)),React.createElement(\"div\",{className:\"col-1\",onClick:_this.de.bind(_assertThisInitialized(_this),menu.id,menu.size)},React.createElement(\"a\",{href:\"/cart\"},React.createElement(\"i\",{class:\"fas fa-times\"})))));}return null;// i=i+1;\n});if(tong!==_this.state.tong)_this.setState({tong:tong});if(_this.state.tong>0){if(_this.state.cl!==\"ca-button hvr-sweep-to-left-black\"&&_this.state.cl1!==\"ca-button hvr-sweep-to-left-black none\")_this.setState({cl:\"ca-button hvr-sweep-to-left-black\",cl1:\"ca-button hvr-sweep-to-left-black none\"});}else{if(_this.state.cl1!==\"ca-button hvr-sweep-to-left-black\"&&_this.state.cl!==\"ca-button hvr-sweep-to-left-black  none\")_this.setState({cl1:\"ca-button hvr-sweep-to-left-black\",cl:\"ca-button hvr-sweep-to-left-black none\"});}}return result;};_this.tb=function(){var ab=_this.state.order;var t=_this.state.tong;if(ab.length>0&&t===0){alert(\"bạn chưa chọn mua sản phẩm nào\");}else{alert(\"bạn không có sản phẩm nào\");}};_this.state={order:[],order1:[],name:'',tong:0,value:2,dem:[],cl:\"ca-button hvr-sweep-to-left-black none\",cl1:\"ca-button hvr-sweep-to-left-black \",tt:\"\"};return _this;}_createClass(Cart,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('/order').then(function(res){console.log(res.data);if(res.data.length>0){_this2.setState({cl:\"ca-button hvr-sweep-to-left-black\",cl1:\"ca-button hvr-sweep-to-left-black none\"});}else{_this2.setState({cl1:\"ca-button hvr-sweep-to-left-black\",cl:\"ca-button hvr-sweep-to-left-black none\"});}_this2.setState({order:res.data// order1:res.data\n});});axios.get('/order1').then(function(res){//   console.log(res.data);\n_this2.setState({// order:res.data\norder1:res.data});});axios.get('/test').then(function(res){//   console.log(res.data);\n_this2.setState({name:res.data,tt:res.data});});}},{key:\"render\",value:function render(){//   var data=this.props.data;\n//   console.log(this.state.order);\n//   var d=data[0] || {soluong:1};\n// console.log(this.state.name)\nif(this.state.tt==='chua dang nhap'){return React.createElement(Redirect,{to:\"/login1\"});}var tt=this.state.tt;// console.log(tt);\nif(tt!==\"\"){return React.createElement(\"div\",{className:\"cart\"},React.createElement(\"p\",null,React.createElement(\"b\",null,\"GI\\u1ECE H\\xC0NG \")),React.createElement(\"div\",{className:\"tb\"},React.createElement(\"div\",{className:\"tb1\"},React.createElement(\"div\",{className:\"row tb1top\"},React.createElement(\"div\",{className:\"col-7 clear\"},React.createElement(\"p\",{className:\"\"},\"T\\xCAN S\\u1EA2N PH\\u1EA8M\")),React.createElement(\"div\",{className:\"col-5 row\"},React.createElement(\"div\",{className:\"col-4\"},React.createElement(\"p\",null,\"GI\\xC1 TI\\u1EC0N\")),React.createElement(\"div\",{className:\"col-3\"},React.createElement(\"p\",null,\"S\\u1ED0 L\\u01AF\\u1EE2NG\")),React.createElement(\"div\",{className:\"col-4\"},React.createElement(\"p\",null,\"C\\u1ED8NG\")),React.createElement(\"div\",{className:\"col-1\"}))),this.Show(this.state.order,this.state.name),React.createElement(\"div\",{className:\"row tb1top\"},React.createElement(\"div\",{className:\"col-7 clear\"},React.createElement(\"a\",{href:\"/cart\"},React.createElement(\"button\",{className:\"cart-button hvr-sweep-to-left-black\",onClick:this.cl},React.createElement(\"b\",null,\"XO\\u0301A GIO\\u0309 HA\\u0300NG\")))),React.createElement(\"div\",{className:\"col-5 row\"},React.createElement(\"div\",{className:\"col-7 c\"},React.createElement(\"a\",{href:\"/\"},React.createElement(\"button\",{className:\"cart-button hvr-sweep-to-left-black\"},React.createElement(\"b\",null,\"TI\\xCA\\u0301P TU\\u0323C MUA HA\\u0300NG\")))),React.createElement(\"div\",{className:\"col-5 c\"},React.createElement(\"a\",{href:\"/cart\"},React.createElement(\"button\",{className:\"cart-button hvr-sweep-to-left-black\",onClick:this.update},React.createElement(\"b\",null,\"C\\xC2\\u0323P NH\\xC2\\u0323T\")))))))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-7\"}),React.createElement(\"div\",{className:\"col-5 tb2 \"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-8\"},\"C\\xF4\\u0323ng\"),React.createElement(\"div\",{className:\"col-4\"},this.state.tong)),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-8\"},React.createElement(\"p\",null,\"Shipping & Handling (Ph\\xED v\\u1EADn chuy\\u1EC3n)\")),React.createElement(\"div\",{className:\"col-4\"},\"30000\")),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-8\"},React.createElement(\"b\",null,\"T\\xF4\\u0309ng\")),React.createElement(\"div\",{className:\"col-4\"},React.createElement(\"b\",null,this.state.tong+30000))),React.createElement(\"button\",{className:this.state.cl1,onClick:this.tb},React.createElement(\"b\",null,\"THANH TOA\\u0301N\")),React.createElement(\"a\",{href:\"history\"},React.createElement(\"button\",{className:this.state.cl,onClick:this.tt},React.createElement(\"b\",null,\"THANH TOA\\u0301N\"))))));}else{return React.createElement(\"div\",{className:\"lds\"},React.createElement(\"div\",{class:\"lds-hourglass\"}));}}}]);return Cart;}(Component);export default Cart;","map":{"version":3,"sources":["D:\\anhshop\\abcd\\src\\Out\\Cart\\Cart.js"],"names":["React","Component","axios","Redirect","Link","Cart","props","de","a","b","console","log","post","id","size","then","res","data","catch","err","update","state","order","tt","data1","order1","i","length","soluong","cl","Show","menus","name","result","tong","map","menu","index","username","NewPrice","link","Name","e","Number","target","value","setState","bind","cl1","tb","ab","t","alert","dem","get"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport './Cart.css'\r\nimport axios from \"axios\"\r\nimport {Redirect, Link} from 'react-router-dom'\r\nclass Cart extends Component{\r\n    constructor (props) {\r\n        super(props)\r\n        this.state = {\r\n          order:[],\r\n          order1:[],\r\n          name:'',\r\n          tong:0,\r\n          value:2,\r\n          dem:[],\r\n          cl:\"ca-button hvr-sweep-to-left-black none\",\r\n          cl1:\"ca-button hvr-sweep-to-left-black \",\r\n          tt:\"\"\r\n        }\r\n     }\r\n    componentDidMount() {\r\n        axios.get('/order')\r\n        .then(res=>{\r\n          console.log(res.data);\r\n        if (res.data.length>0){\r\n            this.setState({\r\n                cl:\"ca-button hvr-sweep-to-left-black\",\r\n                cl1:\"ca-button hvr-sweep-to-left-black none\"\r\n            })\r\n        } else {\r\n            this.setState({\r\n                cl1:\"ca-button hvr-sweep-to-left-black\",\r\n                cl:\"ca-button hvr-sweep-to-left-black none\"\r\n            })\r\n        }\r\n          this.setState({\r\n            order:res.data\r\n            // order1:res.data\r\n        });\r\n        })\r\n        axios.get('/order1')\r\n        .then(res=>{\r\n        //   console.log(res.data);\r\n          this.setState({\r\n            // order:res.data\r\n            order1:res.data\r\n        });\r\n        })\r\n        axios.get('/test')\r\n        .then(res=>{\r\n        //   console.log(res.data);\r\n          this.setState({\r\n            name:res.data,\r\n            tt:res.data\r\n        });\r\n        })\r\n    }\r\n    de=(a,b)=>{\r\n        console.log();\r\n        axios.post('/delete',{id:a,size:b})\r\n        .then(res=>{\r\n         console.log(res.data);\r\n        //  this.setState({search:res.data})\r\n       })\r\n        .catch(err => console.log(err))\r\n    }\r\n    update = () =>{\r\n        // var {data}=this.props.order;\r\n        console.log(this.state.order)\r\n        axios.post('/update',{data:this.state.order})\r\n        .then(res=>{\r\n         console.log(res.data);\r\n        //  this.setState({search:res.data})\r\n       })\r\n        .catch(err => console.log(err))\r\n      }\r\n      tt = () =>{\r\n          var data=this.state.order,data1=this.state.order1;\r\n        //   console.log(\"data\",this.state.order,'data1:',this.state.order1);\r\n          for ( var i=0;i<=data.length-1;i++)\r\n            data1[i].soluong=data1[i].soluong-data[i].soluong;\r\n            console.log('data:',data1);\r\n            axios.post('/update',{data:data1})\r\n            .then(res=>{\r\n            console.log(res.data);\r\n            //  this.setState({search:res.data})\r\n        })\r\n            .catch(err => console.log(err))\r\n            axios.post('/thanhtoan',{data:data})\r\n            .then(res=>{\r\n            console.log(res.data);\r\n            //  this.setState({search:res.data})\r\n        })\r\n            .catch(err => console.log(err))\r\n      }\r\n      cl = () =>{\r\n        // var {data}=this.props.order;\r\n        console.log(this.state.order)\r\n        axios.post('/clear',{data:this.state.order})\r\n        .then(res=>{\r\n         console.log(res.data);\r\n        //  this.setState({search:res.data})\r\n       })\r\n        .catch(err => console.log(err))\r\n      }\r\n    //   a{}\r\n    Show = (menus,name) => {\r\n        var result = null;\r\n        var tong=0;\r\n        if (menus.length > 0) {\r\n            result = menus.map((menu, index) =>{\r\n                if (menu.username===name ){\r\n                    tong=tong+menu.NewPrice*menu.soluong;\r\n                    // console.log(index);\r\n                    var link='/product/'+menu.Link\r\n                    return (\r\n                        <div className=\"row tb1top\" >\r\n                            <div className=\"col-7 row clear\">\r\n                                <div className=\"col-2\"><Link to={link}><img width=\"80px\" alt=\"anh\" src={\"http://localhost:4000/anh/\"+menu.Link+'_1'}></img></Link></div>\r\n                                <div className=\"col-9\">\r\n                                    <Link to={link}><h5>{menu.Name}</h5></Link>\r\n                                    <h6>Size:  {menu.size}</h6>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-5 row t1t1\">\r\n                                <div className=\"col-4\"><p>{menu.NewPrice}</p></div>\r\n                                <div className=\"col-3\">\r\n                                    <input type=\"number\" value={menu.soluong} min=\"0\"  onChange={e=>{\r\n                                        var a=this.state.order;\r\n                                        // var b=this.state.order1;\r\n                                        // console.log(b[index].soluong,b[index].soluong-Number(e.target.value),Number(e.target.value))\r\n                                        // console.log(a,b)\r\n                                        // b[index].soluong=b[index].soluong-Number(e.target.value);\r\n                                        a[index].soluong=Number(e.target.value);\r\n                                        // console.log(a,b)\r\n                                        this.setState({order:a});\r\n                                        // console.log(this.state.order,this.state.order1)\r\n                                        // console.log(b[index].soluong,b[index].soluong-Number(e.target.value),Number(e.target.value))\r\n                                    }}></input>\r\n                                </div>\r\n                                <div className=\"col-4\"><p>{menu.NewPrice*menu.soluong}</p></div>\r\n                                <div className=\"col-1\" onClick={this.de.bind(this,menu.id,menu.size)} ><a href=\"/cart\"><i class=\"fas fa-times\" ></i></a></div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n                return null\r\n                // i=i+1;\r\n            })\r\n            if (tong!==this.state.tong)\r\n            this.setState({\r\n                tong:tong\r\n            });\r\n            if (this.state.tong>0){\r\n                if (this.state.cl!==\"ca-button hvr-sweep-to-left-black\" && this.state.cl1!==\"ca-button hvr-sweep-to-left-black none\")\r\n                this.setState({\r\n                    cl:\"ca-button hvr-sweep-to-left-black\",\r\n                    cl1:\"ca-button hvr-sweep-to-left-black none\"\r\n                })\r\n            } else {\r\n                if (this.state.cl1!==\"ca-button hvr-sweep-to-left-black\" && this.state.cl!==\"ca-button hvr-sweep-to-left-black  none\")\r\n                this.setState({\r\n                    cl1:\"ca-button hvr-sweep-to-left-black\",\r\n                    cl:\"ca-button hvr-sweep-to-left-black none\"\r\n                })\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    tb=()=>{\r\n        var ab=this.state.order;\r\n        var t=this.state.tong;\r\n        if (ab.length>0 && t===0){alert(\"bạn chưa chọn mua sản phẩm nào\")}\r\n            else {\r\n                alert(\"bạn không có sản phẩm nào\");\r\n            }\r\n        \r\n    }\r\n\r\n  render(){\r\n    //   var data=this.props.data;\r\n    //   console.log(this.state.order);\r\n    //   var d=data[0] || {soluong:1};\r\n    // console.log(this.state.name)\r\n    if (this.state.tt === 'chua dang nhap') {\r\n      return <Redirect to=\"/login1\"/>\r\n    }\r\n    var tt=this.state.tt;\r\n    // console.log(tt);\r\n    if (tt !==\"\"){\r\n        return(\r\n            <div className=\"cart\">\r\n                <p><b>GIỎ HÀNG </b></p>\r\n                <div className=\"tb\">\r\n                    <div className=\"tb1\">\r\n                        <div className=\"row tb1top\">\r\n                            <div className=\"col-7 clear\"><p className=\"\">TÊN SẢN PHẨM</p></div>\r\n                            <div className=\"col-5 row\">\r\n                                <div className=\"col-4\"><p>GIÁ TIỀN</p></div>\r\n                                <div className=\"col-3\"><p>SỐ LƯỢNG</p></div>\r\n                                <div className=\"col-4\"><p>CỘNG</p></div>\r\n                                <div className=\"col-1\"></div>\r\n                            </div>\r\n                        </div>\r\n                        {this.Show(this.state.order,this.state.name)}\r\n                        \r\n                        <div className=\"row tb1top\" >\r\n                            <div className=\"col-7 clear\">\r\n                                <a href=\"/cart\"><button className=\"cart-button hvr-sweep-to-left-black\" onClick={this.cl} ><b>XÓA GIỎ HÀNG</b></button></a>\r\n                            </div>\r\n                            <div className=\"col-5 row\">\r\n                                <div className=\"col-7 c\">\r\n                                    <a href=\"/\"><button className=\"cart-button hvr-sweep-to-left-black\"><b>TIẾP TỤC MUA HÀNG</b></button></a>\r\n                                </div>\r\n                                <div className=\"col-5 c\">\r\n                                    <a href=\"/cart\"><button className=\"cart-button hvr-sweep-to-left-black\" onClick={this.update}><b>CẬP NHẬT</b></button></a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-7\"></div>\r\n                    <div className=\"col-5 tb2 \">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-8\">\r\n                                Cộng\r\n                            </div>\r\n                            <div className=\"col-4\">\r\n                                {this.state.tong}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-8\">\r\n                              <p>Shipping &#38; Handling (Phí vận chuyển)</p>\r\n                            </div>\r\n                            <div className=\"col-4\">\r\n                                30000\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-8\">\r\n                                <b>Tổng</b>\r\n                            </div>\r\n                            <div className=\"col-4\">\r\n                                <b>{this.state.tong+30000}</b>\r\n                            </div>\r\n                        </div>\r\n                        <button className={this.state.cl1} onClick={this.tb} ><b>THANH TOÁN</b></button>\r\n                        <a href=\"history\"><button className={this.state.cl} onClick={this.tt} ><b>THANH TOÁN</b></button></a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n          )\r\n    } else{\r\n        return(\r\n            <div className=\"lds\">\r\n                    <div class=\"lds-hourglass\"></div>\r\n                </div>\r\n        )\r\n    }\r\n      \r\n  }\r\n}\r\nexport default Cart;"]},"metadata":{},"sourceType":"module"}