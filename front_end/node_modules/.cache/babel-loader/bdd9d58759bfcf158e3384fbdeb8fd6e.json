{"ast":null,"code":"var _jsxFileName = \"D:\\\\clothing-store\\\\front_end\\\\src\\\\Out\\\\Products\\\\Products.js\";\nimport React, { Component } from 'react';\nimport './Products.css';\nimport axios from \"axios\";\nimport ReactImageZoom from 'react-image-zoom';\nimport { Link } from 'react-router-dom';\nimport '../../loading.css';\n\nclass Products extends Component {\n  constructor(props) {\n    super(props);\n\n    this.up = () => {\n      var d = this.state.soluong;\n      if (d < this.state.sl) d = d + 1;\n      this.setState({\n        soluong: d\n      });\n    };\n\n    this.down = () => {\n      var d = this.state.soluong;\n      if (d > 1) d = d - 1;\n      this.setState({\n        soluong: d\n      });\n    };\n\n    this.clicksize = dem => {\n      var newArray = [\"col a1\", 'col a1', 'col a1'];\n      var newArray1 = [\"S\", \"M\", \"L\", \"\"];\n      var abc = newArray1[dem];\n      var sl = 0;\n      var data = this.state.data;\n      if (dem === 0) sl = data.sizeS;else if (dem === 1) sl = data.sizeM;else sl = data.sizeL;\n      newArray[dem] = \"col a\";\n      var soluong = this.state.soluong;\n      if (soluong > sl) soluong = sl;\n      this.setState({\n        class1: newArray,\n        size: abc,\n        sl: sl,\n        soluong: soluong\n      });\n    };\n\n    this.add = () => {\n      var data = this.state.data;\n      var id = data.id;\n      var soluong = this.state.soluong;\n      var size = this.state.size;\n      var name = data.Name;\n      var gia = data.NewPrice;\n      var link = data.Link;\n      console.log(data);\n      console.log(id, name, gia);\n      axios.post('/add', {\n        id: id,\n        soluong: soluong,\n        size: size,\n        name: name,\n        gia: gia,\n        link: link\n      }).then(res => {\n        console.log(res.data);\n      }).catch(err => console.log(err));\n    };\n\n    this.changlinkimg = link => {\n      this.setState({\n        linkimg: link\n      }); // console.log(link)\n    };\n\n    this.onChange = e => {\n      var value = e.target.value;\n      if (value > this.state.sl) value = this.state.sl;\n      if (value <= 0) value = 1;\n      this.setState({\n        soluong: value\n      });\n      console.log(e.target);\n    };\n\n    this.state = {\n      data: {},\n      new: \"\",\n      soluong: 1,\n      id: 1,\n      class1: [\"col a\", 'col a1', 'col a1'],\n      size: \"S\",\n      link: 'login1',\n      a1: \"none\",\n      a2: \"block\",\n      linkimg: '_1',\n      sl: 0,\n      loading: 0\n    };\n  }\n\n  scrollToTop() {\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\"\n    });\n  }\n\n  componentDidMount() {\n    this.scrollToTop();\n    var match = this.props.match;\n    axios.post(\"/getproduct\", {\n      link: match.params.name\n    }).then(res => {\n      console.log(res.data[0]);\n\n      if (res.data[0] !== undefined) {\n        this.setState({\n          data: res.data[0],\n          sl: res.data[0].sizeS,\n          loading: 1\n        });\n      } // console.log(this.state.data)\n\n    }); // axios.get('/products')\n    // .then(res=>{\n    // //   console.log(res.data);\n    //   var {match}=this.props;\n    // //   console.log(match.params.name);\n    //   res.data.map((menu, index) =>{\n    //     if (menu.Link==match.params.name) {\n    //         this.setState({\n    //             data:menu,sl:menu.sizeS    \n    //         });\n    //         // console.log(menu);\n    //         return;\n    //     }\n    // })\n    // })\n\n    axios.get('/test').then(res => {\n      this.setState({\n        name: res.data\n      });\n\n      if (res.data !== \"chua dang nhap\") {\n        this.setState({\n          a1: \"block\",\n          a2: 'none'\n        });\n      } else {\n        this.setState({\n          a2: \"block\",\n          a1: 'none'\n        });\n      }\n    });\n  }\n\n  render() {\n    // var styleimg = {width:362,zoomWidth:362,zoomPosition:'original',img: 'http://localhost:4000/anh/thun1_1'};\n    var match = this.props.match; // console.log(match.params.name);\n    // console.log(this.state.data);\n\n    var data = this.state.data; // var link1=\"http://localhost:3000/product/\"+match.params.name;\n\n    var link = 'http://localhost:4000/anh/' + match.params.name; // console.log(link+'_to2');\n    // var styleimg = {width:362,zoomWidth:362,zoomPosition:'original',img: link+'_1'};\n\n    var style = {\n      width: 80,\n      margin: 10\n    };\n\n    if (this.state.loading === 0) {\n      return React.createElement(\"div\", {\n        className: \"lds\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"lds-hourglass\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }));\n    } else {\n      if (this.state.active === 0) {\n        return React.createElement(\"h1\", {\n          className: \"a404\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, \"404\");\n      } else {}\n    }\n  }\n\n}\n\nexport default Products;","map":{"version":3,"sources":["D:\\clothing-store\\front_end\\src\\Out\\Products\\Products.js"],"names":["React","Component","axios","ReactImageZoom","Link","Products","constructor","props","up","d","state","soluong","sl","setState","down","clicksize","dem","newArray","newArray1","abc","data","sizeS","sizeM","sizeL","class1","size","add","id","name","Name","gia","NewPrice","link","console","log","post","then","res","catch","err","changlinkimg","linkimg","onChange","e","value","target","new","a1","a2","loading","scrollToTop","window","scrollTo","top","behavior","componentDidMount","match","params","undefined","get","render","style","width","margin","active"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport './Products.css';\r\nimport axios from \"axios\";\r\nimport ReactImageZoom from 'react-image-zoom';\r\nimport { Link } from 'react-router-dom';\r\nimport '../../loading.css'\r\nclass Products extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n     \r\n        this.state = {\r\n            data:{},\r\n            new: \"\",\r\n            soluong:1,\r\n            id:1,\r\n            class1:[\"col a\",'col a1','col a1'],\r\n            size:\"S\",\r\n            link:'login1',\r\n            a1:\"none\",\r\n            a2:\"block\",\r\n            linkimg:'_1',\r\n            sl:0,loading:0\r\n        };\r\n      }\r\n      scrollToTop() {\r\n        window.scrollTo({\r\n          top: 0,\r\n          behavior: \"smooth\"\r\n        });\r\n      }\r\n      componentDidMount() {\r\n        this.scrollToTop();\r\n        var {match}=this.props;\r\n        axios.post(\"/getproduct\",{link:match.params.name}).then(\r\n            res=>{\r\n                console.log(res.data[0])\r\n                if (res.data[0]!==undefined){\r\n                    this.setState({\r\n                        data:res.data[0],sl:res.data[0].sizeS  ,loading:1  \r\n                    });\r\n                }\r\n                \r\n                // console.log(this.state.data)\r\n            }\r\n        )   \r\n        // axios.get('/products')\r\n        // .then(res=>{\r\n        // //   console.log(res.data);\r\n        //   var {match}=this.props;\r\n        // //   console.log(match.params.name);\r\n        //   res.data.map((menu, index) =>{\r\n        //     if (menu.Link==match.params.name) {\r\n        //         this.setState({\r\n        //             data:menu,sl:menu.sizeS    \r\n        //         });\r\n        //         // console.log(menu);\r\n        //         return;\r\n        //     }\r\n        // })\r\n        // })\r\n        axios.get('/test')\r\n            .then(res=>{\r\n                this.setState({\r\n                name:res.data\r\n            });\r\n                if (res.data!==\"chua dang nhap\"){\r\n                this.setState({\r\n                a1:\"block\",a2:'none'\r\n            });} else {\r\n                this.setState({\r\n                    a2:\"block\",a1:'none'\r\n            });\r\n            }\r\n            })\r\n    }\r\n    up = () => {\r\n            var d=this.state.soluong ;\r\n            if (d<this.state.sl) d=d+1;\r\n            this.setState({\r\n                soluong:d\r\n            });\r\n    }\r\n    down = () => {\r\n            var d=this.state.soluong;\r\n            if (d>1) d=d-1;\r\n            this.setState({\r\n                soluong:d\r\n            });\r\n    }\r\n    clicksize = (dem) => {\r\n        var newArray=[\"col a1\",'col a1','col a1'];\r\n        var newArray1=[\"S\",\"M\",\"L\",\"\"];\r\n        var abc=newArray1[dem];\r\n        var sl=0;\r\n        var data=this.state.data;\r\n        if (dem===0) sl=data.sizeS; else if (dem===1) sl=data.sizeM; else sl=data.sizeL \r\n        newArray[dem]=\"col a\";\r\n        var soluong=this.state.soluong;\r\n        if (soluong>sl) soluong=sl;\r\n        this.setState({\r\n            class1:newArray,\r\n            size:abc,sl:sl,\r\n            soluong:soluong\r\n        });\r\n    }\r\n    add=()=>{\r\n        var data=this.state.data;\r\n        var id=data.id;\r\n        var soluong=this.state.soluong;\r\n        var size=this.state.size;\r\n        var name=data.Name;\r\n        var gia=data.NewPrice;\r\n        var link=data.Link;\r\n        console.log(data);\r\n        console.log(id,name,gia);\r\n        axios.post('/add',{id:id,soluong:soluong,size:size,name:name,gia:gia,link:link})\r\n        .then(res=>{\r\n            console.log(res.data);\r\n        })\r\n        .catch(err => console.log(err))\r\n       }\r\n    changlinkimg=(link)=>{\r\n        this.setState({\r\n            linkimg:link\r\n        })\r\n        // console.log(link)\r\n    }\r\n    onChange=(e)=>{\r\n        var value=e.target.value;\r\n        if (value>this.state.sl) value=this.state.sl;\r\n        if (value<=0) value=1;\r\n        this.setState({\r\n            soluong:value\r\n        })\r\n        console.log(e.target)\r\n    }\r\n    \r\n    render(){\r\n        // var styleimg = {width:362,zoomWidth:362,zoomPosition:'original',img: 'http://localhost:4000/anh/thun1_1'};\r\n        var {match}=this.props;\r\n        // console.log(match.params.name);\r\n        // console.log(this.state.data);\r\n        var data=this.state.data;\r\n        // var link1=\"http://localhost:3000/product/\"+match.params.name;\r\n        var link='http://localhost:4000/anh/'+match.params.name;\r\n        // console.log(link+'_to2');\r\n        // var styleimg = {width:362,zoomWidth:362,zoomPosition:'original',img: link+'_1'};\r\n        var style={width:80,margin:10}\r\n        if (this.state.loading===0){\r\n            return(\r\n                <div className=\"lds\">\r\n                    <div className=\"lds-hourglass\"></div>\r\n                </div>\r\n             )\r\n        } else{\r\n            if(this.state.active===0){\r\n                    return(\r\n                        <h1 className=\"a404\">404</h1>\r\n                    )\r\n            } else  {\r\n\r\n            }\r\n        }\r\n}}\r\nexport default Products"]},"metadata":{},"sourceType":"module"}