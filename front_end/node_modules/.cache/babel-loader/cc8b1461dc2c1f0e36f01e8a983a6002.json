{"ast":null,"code":"\"use strict\"; // s2.2.7.17\n\nconst valueParse = require('../value-parser');\n\nmodule.exports = function (parser, colMetadata, options, callback) {\n  const columns = options.useColumnNames ? {} : [];\n  const len = colMetadata.length;\n  let i = 0;\n\n  function next(done) {\n    if (i === len) {\n      return done();\n    }\n\n    const columnMetaData = colMetadata[i];\n    valueParse(parser, columnMetaData, options, value => {\n      const column = {\n        value: value,\n        metadata: columnMetaData\n      };\n\n      if (options.useColumnNames) {\n        if (columns[columnMetaData.colName] == null) {\n          columns[columnMetaData.colName] = column;\n        }\n      } else {\n        columns.push(column);\n      }\n\n      i++;\n      next(done);\n    });\n  }\n\n  next(() => {\n    callback({\n      name: 'ROW',\n      event: 'row',\n      columns: columns\n    });\n  });\n};","map":null,"metadata":{},"sourceType":"script"}