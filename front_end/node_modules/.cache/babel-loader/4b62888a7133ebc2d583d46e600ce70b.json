{"ast":null,"code":"import _defineProperty from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\anhshop\\\\abcd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./App.css';import'bootstrap/dist/css/bootstrap.min.css';import'./Login.css';import axios from\"axios\";import{Redirect}from'react-router-dom';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.handleRequert=function(e){// e.preventDefault();\nvar username=_this.state.username;var password=_this.state.password;console.log(username);console.log(password);if(_this.props.data!==\"admin\"){axios.post('/login1',{username:username,password:password}).then(function(res){if(res.data===\"thanh cong\"){localStorage.setItem('user',JSON.stringify({username:_this.state.username,password:_this.state.username}));}//  console.log(res.data);\nconsole.log(res.data);});}else{axios.post('/loginadmin',{username:username,password:password}).then(function(res){if(res.data===\"thanh cong\"){localStorage.setItem('user',JSON.stringify({username:_this.state.username,password:_this.state.username}));}//  console.log(res.data);\nconsole.log(res.data);});}// .catch(err => console.log(err))\n};_this.onChange=function(e){// console.log(e.target)\nvar name=e.target.name;var value=e.target.value;_this.setState(_defineProperty({},name,value));};_this.state={// kq:\"that bai\",\nusername:\"\",password:\"\",name:\"chua dang nhap\",nameadmin:\"chua dang nhap\"};return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('/test').then(function(res){_this2.setState({name:res.data});});axios.get('/testadmin').then(function(res){_this2.setState({nameadmin:res.data});});}},{key:\"render\",value:function render(){// var login=localStorage.getItem('user');\n// console.log(this.state.name)\nif(this.props.data===\"admin\"){if(this.state.nameadmin!=='chua dang nhap'){return React.createElement(Redirect,{to:\"/admin\"});}}else{if(this.state.name!=='chua dang nhap'){return React.createElement(Redirect,{to:\"/\"});}}return React.createElement(\"div\",{className:\"login1\"},React.createElement(\"div\",{class:\"page-title\"},React.createElement(\"h1\",{className:\"size32\"},this.props.data)),React.createElement(\"div\",{className:\"li\"},React.createElement(\"span\",null,\"Login and password are required.\")),React.createElement(\"form\",{onSubmit:this.handleRequert,className:\"lo\"},React.createElement(\"div\",null,React.createElement(\"input\",{placeholder:\"Username\",type:\"text\",name:\"username\",ref:\"username\",className:\"borderinput\",value:this.state.username,onChange:this.onChange})),React.createElement(\"div\",null,React.createElement(\"input\",{placeholder:\"Password\",type:\"password\",name:\"password\",ref:\"password\",className:\"borderinput\",value:this.state.password,onChange:this.onChange})),React.createElement(\"button\",{type:\"submit\",className:\"hvr-sweep-to-left1\"},React.createElement(\"b\",null,\"\\u0110\\u0102NG NH\\u1EACP\"))));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["D:\\anhshop\\abcd\\src\\Login.js"],"names":["React","Component","axios","Redirect","Login","props","handleRequert","e","username","state","password","console","log","data","post","then","res","localStorage","setItem","JSON","stringify","onChange","name","target","value","setState","nameadmin","get"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './Login.css'\r\nimport axios from \"axios\"\r\nimport {Redirect} from 'react-router-dom'\r\nclass Login extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      // kq:\"that bai\",\r\n      username:\"\",\r\n      password:\"\",name:\"chua dang nhap\",\r\n      nameadmin:\"chua dang nhap\"\r\n    }\r\n }\r\n componentDidMount() {\r\n  \r\n  axios.get('/test')\r\n  .then(res=>{\r\n    this.setState({\r\n      name:res.data\r\n  });\r\n  })\r\n  axios.get('/testadmin')\r\n  .then(res=>{\r\n    this.setState({\r\n      nameadmin:res.data\r\n  });\r\n  })\r\n}\r\n  handleRequert=(e)=>{\r\n    // e.preventDefault();\r\n    var username=this.state.username;\r\n    var password=this.state.password;\r\n    console.log(username);\r\n    console.log(password);\r\n    if (this.props.data !== \"admin\"){\r\n      axios.post('/login1',{username:username,password:password})\r\n      .then(res=>{\r\n        if (res.data===\"thanh cong\") {\r\n          localStorage.setItem('user',JSON.stringify({\r\n              username:this.state.username,\r\n              password:this.state.username\r\n          }));\r\n        }\r\n      //  console.log(res.data);\r\n      console.log(res.data);\r\n      })} else {\r\n        axios.post('/loginadmin',{username:username,password:password})\r\n        .then(res=>{\r\n          if (res.data===\"thanh cong\") {\r\n            localStorage.setItem('user',JSON.stringify({\r\n                username:this.state.username,\r\n                password:this.state.username\r\n            }));\r\n          }\r\n        //  console.log(res.data);\r\n        console.log(res.data);\r\n        })\r\n      }\r\n    // .catch(err => console.log(err))\r\n  }\r\n  onChange =(e)=>{\r\n    // console.log(e.target)\r\n    var name=e.target.name;\r\n    var value=e.target.value;\r\n    this.setState({\r\n      [name]:value\r\n    })\r\n  }\r\n  render(){\r\n    // var login=localStorage.getItem('user');\r\n    // console.log(this.state.name)\r\n    if (this.props.data === \"admin\"){\r\n    if (this.state.nameadmin !== 'chua dang nhap') {\r\n      return <Redirect to=\"/admin\"/>\r\n    }} else {\r\n      if (this.state.name !== 'chua dang nhap') {\r\n        return <Redirect to=\"/\"/>\r\n      }\r\n    }\r\n  return (\r\n    <div className=\"login1\">\r\n      <div class=\"page-title\">\r\n        <h1 className=\"size32\">{this.props.data}</h1>\r\n        {/* <div class=\"field note\">If you have an account, sign in with your email address.</div> */}\r\n      </div>\r\n      <div className=\"li\">\r\n          <span>Login and password are required.</span>\r\n      </div>\r\n      <form onSubmit={this.handleRequert }  className=\"lo\"> \r\n        <div ><input placeholder=\"Username\"  type=\"text\" name=\"username\" ref=\"username\" className=\"borderinput\" value={this.state.username} onChange={this.onChange} ></input></div>\r\n        <div><input placeholder=\"Password\"  type=\"password\" name=\"password\" ref=\"password\" className=\"borderinput\"  value={this.state.password} onChange={this.onChange}></input></div>\r\n        <button type=\"submit\"  className=\"hvr-sweep-to-left1\"><b>ĐĂNG NHẬP</b></button>\r\n      </form>\r\n    </div>\r\n  );\r\n}}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}