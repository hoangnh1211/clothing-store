{"ast":null,"code":"\"use strict\";\n\nconst WritableTrackingBuffer = require('./tracking-buffer/writable-tracking-buffer');\n\nconst writeAllHeaders = require('./all-headers').writeToTrackingBuffer;\n/*\n  s2.2.6.6\n */\n\n\nclass SqlBatchPayload {\n  constructor(sqlText, txnDescriptor, options) {\n    this.sqlText = sqlText;\n    const buffer = new WritableTrackingBuffer(100 + 2 * this.sqlText.length, 'ucs2');\n\n    if (options.tdsVersion >= '7_2') {\n      const outstandingRequestCount = 1;\n      writeAllHeaders(buffer, txnDescriptor, outstandingRequestCount);\n    }\n\n    buffer.writeString(this.sqlText, 'ucs2');\n    this.data = buffer.data;\n  }\n\n  toString(indent = '') {\n    return indent + ('SQL Batch - ' + this.sqlText);\n  }\n\n}\n\nmodule.exports = SqlBatchPayload;","map":null,"metadata":{},"sourceType":"script"}